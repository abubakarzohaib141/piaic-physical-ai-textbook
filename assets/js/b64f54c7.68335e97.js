"use strict";(globalThis.webpackChunkdocs=globalThis.webpackChunkdocs||[]).push([[4420],{5680:(e,n,a)=>{a.d(n,{xA:()=>p,yg:()=>m});var t=a(6540);function o(e,n,a){return n in e?Object.defineProperty(e,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[n]=a,e}function r(e,n){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),a.push.apply(a,t)}return a}function i(e){for(var n=1;n<arguments.length;n++){var a=null!=arguments[n]?arguments[n]:{};n%2?r(Object(a),!0).forEach(function(n){o(e,n,a[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):r(Object(a)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(a,n))})}return e}function s(e,n){if(null==e)return{};var a,t,o=function(e,n){if(null==e)return{};var a,t,o={},r=Object.keys(e);for(t=0;t<r.length;t++)a=r[t],n.indexOf(a)>=0||(o[a]=e[a]);return o}(e,n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(t=0;t<r.length;t++)a=r[t],n.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(o[a]=e[a])}return o}var l=t.createContext({}),c=function(e){var n=t.useContext(l),a=n;return e&&(a="function"==typeof e?e(n):i(i({},n),e)),a},p=function(e){var n=c(e.components);return t.createElement(l.Provider,{value:n},e.children)},g="mdxType",u={inlineCode:"code",wrapper:function(e){var n=e.children;return t.createElement(t.Fragment,{},n)}},d=t.forwardRef(function(e,n){var a=e.components,o=e.mdxType,r=e.originalType,l=e.parentName,p=s(e,["components","mdxType","originalType","parentName"]),g=c(a),d=o,m=g["".concat(l,".").concat(d)]||g[d]||u[d]||r;return a?t.createElement(m,i(i({ref:n},p),{},{components:a})):t.createElement(m,i({ref:n},p))});function m(e,n){var a=arguments,o=n&&n.mdxType;if("string"==typeof e||o){var r=a.length,i=new Array(r);i[0]=d;var s={};for(var l in n)hasOwnProperty.call(n,l)&&(s[l]=n[l]);s.originalType=e,s[g]="string"==typeof e?e:o,i[1]=s;for(var c=2;c<r;c++)i[c]=a[c];return t.createElement.apply(null,i)}return t.createElement.apply(null,a)}d.displayName="MDXCreateElement"},5885:(e,n,a)=>{a.r(n),a.d(n,{contentTitle:()=>i,default:()=>g,frontMatter:()=>r,metadata:()=>s,toc:()=>l});var t=a(8168),o=(a(6540),a(5680));const r={},i="Module 1: The Robotic Nervous System (ROS 2)",s={unversionedId:"physical-ai/module1-ros2/overview",id:"physical-ai/module1-ros2/overview",isDocsHomePage:!1,title:"Module 1: The Robotic Nervous System (ROS 2)",description:"Overview",source:"@site/docs/physical-ai/module1-ros2/overview.md",sourceDirName:"physical-ai/module1-ros2",slug:"/physical-ai/module1-ros2/overview",permalink:"/piaic-physical-ai-textbook/docs/physical-ai/module1-ros2/overview",editUrl:"https://github.com/abubakarzohaib141/piaic-physical-ai-textbook/edit/main/docs/docs/physical-ai/module1-ros2/overview.md",tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"ROS 2 Nodes and Topics - Deep Dive",permalink:"/piaic-physical-ai-textbook/docs/physical-ai/module1-ros2/nodes-topics"},next:{title:"URDF - Unified Robot Description Format",permalink:"/piaic-physical-ai-textbook/docs/physical-ai/module1-ros2/urdf"}},l=[{value:"Overview",id:"overview",children:[]},{value:"What is ROS 2?",id:"what-is-ros-2",children:[{value:"Why ROS 2 (vs ROS 1)?",id:"why-ros-2-vs-ros-1",children:[]}]},{value:"Core Concepts",id:"core-concepts",children:[{value:"1. Nodes",id:"1-nodes",children:[]},{value:"2. Topics (Publisher-Subscriber Pattern)",id:"2-topics-publisher-subscriber-pattern",children:[]},{value:"3. Services (Request-Response Pattern)",id:"3-services-request-response-pattern",children:[]},{value:"4. Actions (Long-Running Tasks)",id:"4-actions-long-running-tasks",children:[]}]},{value:"ROS 2 Architecture for Humanoid Robots",id:"ros-2-architecture-for-humanoid-robots",children:[]},{value:"Key Tools",id:"key-tools",children:[{value:"Command Line Tools",id:"command-line-tools",children:[]},{value:"Visualization: RViz2",id:"visualization-rviz2",children:[]},{value:"Introspection: rqt",id:"introspection-rqt",children:[]}]},{value:"Quality of Service (QoS)",id:"quality-of-service-qos",children:[]},{value:"Package Structure",id:"package-structure",children:[{value:"Creating a Package",id:"creating-a-package",children:[]}]},{value:"Launch Files",id:"launch-files",children:[]},{value:"Best Practices",id:"best-practices",children:[]},{value:"Next Steps",id:"next-steps",children:[]},{value:"Resources",id:"resources",children:[]}],c={toc:l},p="wrapper";function g({components:e,...n}){return(0,o.yg)(p,(0,t.A)({},c,n,{components:e,mdxType:"MDXLayout"}),(0,o.yg)("h1",{id:"module-1-the-robotic-nervous-system-ros-2"},"Module 1: The Robotic Nervous System (ROS 2)"),(0,o.yg)("h2",{id:"overview"},"Overview"),(0,o.yg)("p",null,"Robot Operating System 2 (ROS 2) is the industry-standard middleware for building robot applications. Just as the nervous system coordinates signals between the brain and body, ROS 2 coordinates communication between different components of a robot system."),(0,o.yg)("h2",{id:"what-is-ros-2"},"What is ROS 2?"),(0,o.yg)("p",null,"ROS 2 is ",(0,o.yg)("strong",{parentName:"p"},"not an operating system")," in the traditional sense. Instead, it's a flexible framework and set of tools that provide:"),(0,o.yg)("ul",null,(0,o.yg)("li",{parentName:"ul"},(0,o.yg)("strong",{parentName:"li"},"Communication Infrastructure"),": Standardized message passing between components"),(0,o.yg)("li",{parentName:"ul"},(0,o.yg)("strong",{parentName:"li"},"Hardware Abstraction"),": Write code once, deploy to different robots"),(0,o.yg)("li",{parentName:"ul"},(0,o.yg)("strong",{parentName:"li"},"Tool Ecosystem"),": Visualization, debugging, and simulation tools"),(0,o.yg)("li",{parentName:"ul"},(0,o.yg)("strong",{parentName:"li"},"Community Libraries"),": Thousands of packages for common robotics tasks")),(0,o.yg)("h3",{id:"why-ros-2-vs-ros-1"},"Why ROS 2 (vs ROS 1)?"),(0,o.yg)("p",null,"ROS 2 was built from the ground up to address critical limitations:"),(0,o.yg)("table",null,(0,o.yg)("thead",{parentName:"table"},(0,o.yg)("tr",{parentName:"thead"},(0,o.yg)("th",{parentName:"tr",align:null},"Feature"),(0,o.yg)("th",{parentName:"tr",align:null},"ROS 1"),(0,o.yg)("th",{parentName:"tr",align:null},"ROS 2"))),(0,o.yg)("tbody",{parentName:"table"},(0,o.yg)("tr",{parentName:"tbody"},(0,o.yg)("td",{parentName:"tr",align:null},(0,o.yg)("strong",{parentName:"td"},"Real-time")),(0,o.yg)("td",{parentName:"tr",align:null},"Limited"),(0,o.yg)("td",{parentName:"tr",align:null},"Full real-time support")),(0,o.yg)("tr",{parentName:"tbody"},(0,o.yg)("td",{parentName:"tr",align:null},(0,o.yg)("strong",{parentName:"td"},"Security")),(0,o.yg)("td",{parentName:"tr",align:null},"None"),(0,o.yg)("td",{parentName:"tr",align:null},"DDS security built-in")),(0,o.yg)("tr",{parentName:"tbody"},(0,o.yg)("td",{parentName:"tr",align:null},(0,o.yg)("strong",{parentName:"td"},"Multi-robot")),(0,o.yg)("td",{parentName:"tr",align:null},"Difficult"),(0,o.yg)("td",{parentName:"tr",align:null},"Native support")),(0,o.yg)("tr",{parentName:"tbody"},(0,o.yg)("td",{parentName:"tr",align:null},(0,o.yg)("strong",{parentName:"td"},"Platforms")),(0,o.yg)("td",{parentName:"tr",align:null},"Linux only"),(0,o.yg)("td",{parentName:"tr",align:null},"Linux, Windows, macOS")),(0,o.yg)("tr",{parentName:"tbody"},(0,o.yg)("td",{parentName:"tr",align:null},(0,o.yg)("strong",{parentName:"td"},"Production Ready")),(0,o.yg)("td",{parentName:"tr",align:null},"Research-focused"),(0,o.yg)("td",{parentName:"tr",align:null},"Industrial deployment")))),(0,o.yg)("h2",{id:"core-concepts"},"Core Concepts"),(0,o.yg)("h3",{id:"1-nodes"},"1. Nodes"),(0,o.yg)("p",null,"A ",(0,o.yg)("strong",{parentName:"p"},"node")," is a single-purpose executable that performs computation. Think of nodes as independent workers in your robot system."),(0,o.yg)("pre",null,(0,o.yg)("code",{parentName:"pre",className:"language-python"},"import rclpy\nfrom rclpy.node import Node\n\nclass MinimalNode(Node):\n    def __init__(self):\n        super().__init__('minimal_node')\n        self.get_logger().info('Hello from ROS 2!')\n\ndef main(args=None):\n    rclpy.init(args=args)\n    node = MinimalNode()\n    rclpy.spin(node)\n    rclpy.shutdown()\n\nif __name__ == '__main__':\n    main()\n")),(0,o.yg)("p",null,(0,o.yg)("strong",{parentName:"p"},"Key Principles"),":"),(0,o.yg)("ul",null,(0,o.yg)("li",{parentName:"ul"},"Each node should have a single, well-defined purpose"),(0,o.yg)("li",{parentName:"ul"},"Nodes run independently and can be started/stopped individually"),(0,o.yg)("li",{parentName:"ul"},"Nodes communicate via topics, services, and actions")),(0,o.yg)("h3",{id:"2-topics-publisher-subscriber-pattern"},"2. Topics (Publisher-Subscriber Pattern)"),(0,o.yg)("p",null,"Topics enable ",(0,o.yg)("strong",{parentName:"p"},"asynchronous, many-to-many communication"),". Perfect for continuous data streams like sensor readings."),(0,o.yg)("pre",null,(0,o.yg)("code",{parentName:"pre",className:"language-python"},"from geometry_msgs.msg import Twist\n\nclass VelocityPublisher(Node):\n    def __init__(self):\n        super().__init__('velocity_publisher')\n        self.publisher = self.create_publisher(Twist, 'cmd_vel', 10)\n        self.timer = self.create_timer(0.1, self.publish_velocity)\n        \n    def publish_velocity(self):\n        msg = Twist()\n        msg.linear.x = 0.5  # Move forward\n        msg.angular.z = 0.0  # No rotation\n        self.publisher.publish(msg)\n")),(0,o.yg)("pre",null,(0,o.yg)("code",{parentName:"pre",className:"language-python"},"class VelocitySubscriber(Node):\n    def __init__(self):\n        super().__init__('velocity_subscriber')\n        self.subscription = self.create_subscription(\n            Twist,\n            'cmd_vel',\n            self.velocity_callback,\n            10)\n        \n    def velocity_callback(self, msg):\n        self.get_logger().info(f'Received: linear={msg.linear.x}, angular={msg.angular.z}')\n")),(0,o.yg)("h3",{id:"3-services-request-response-pattern"},"3. Services (Request-Response Pattern)"),(0,o.yg)("p",null,"Services provide ",(0,o.yg)("strong",{parentName:"p"},"synchronous, one-to-one communication"),". Use for discrete actions that require confirmation."),(0,o.yg)("pre",null,(0,o.yg)("code",{parentName:"pre",className:"language-python"},"from example_interfaces.srv import AddTwoInts\n\nclass ServiceServer(Node):\n    def __init__(self):\n        super().__init__('add_two_ints_server')\n        self.srv = self.create_service(AddTwoInts, 'add_two_ints', self.add_callback)\n        \n    def add_callback(self, request, response):\n        response.sum = request.a + request.b\n        self.get_logger().info(f'Incoming: {request.a} + {request.b} = {response.sum}')\n        return response\n")),(0,o.yg)("h3",{id:"4-actions-long-running-tasks"},"4. Actions (Long-Running Tasks)"),(0,o.yg)("p",null,"Actions handle ",(0,o.yg)("strong",{parentName:"p"},"long-running operations")," with feedback. Ideal for navigation, manipulation, etc."),(0,o.yg)("pre",null,(0,o.yg)("code",{parentName:"pre",className:"language-python"},"from action_msgs.msg import GoalStatus\nfrom nav2_msgs.action import NavigateToPose\n\nclass NavigationActionClient(Node):\n    def __init__(self):\n        super().__init__('navigation_client')\n        self._action_client = ActionClient(self, NavigateToPose, 'navigate_to_pose')\n        \n    def send_goal(self, x, y):\n        goal_msg = NavigateToPose.Goal()\n        goal_msg.pose.pose.position.x = x\n        goal_msg.pose.pose.position.y = y\n        \n        self._action_client.wait_for_server()\n        self._send_goal_future = self._action_client.send_goal_async(\n            goal_msg,\n            feedback_callback=self.feedback_callback)\n            \n    def feedback_callback(self, feedback_msg):\n        feedback = feedback_msg.feedback\n        self.get_logger().info(f'Distance remaining: {feedback.distance_remaining}')\n")),(0,o.yg)("h2",{id:"ros-2-architecture-for-humanoid-robots"},"ROS 2 Architecture for Humanoid Robots"),(0,o.yg)("p",null,"For a humanoid robot, your ROS 2 system might look like:"),(0,o.yg)("pre",null,(0,o.yg)("code",{parentName:"pre",className:"language-mermaid"},"graph TD\n    A[Camera Node] --\x3e|Image Topic| D[Perception Node]\n    B[LiDAR Node] --\x3e|PointCloud Topic| D\n    C[IMU Node] --\x3e|IMU Topic| E[Localization Node]\n    D --\x3e|Objects Detected| F[Planning Node]\n    E --\x3e|Robot Pose| F\n    F --\x3e|Trajectory| G[Control Node]\n    G --\x3e|Joint Commands| H[Motor Controllers]\n    I[Voice Interface] --\x3e|Text Commands| J[LLM Node]\n    J --\x3e|High-Level Goals| F\n")),(0,o.yg)("h2",{id:"key-tools"},"Key Tools"),(0,o.yg)("h3",{id:"command-line-tools"},"Command Line Tools"),(0,o.yg)("pre",null,(0,o.yg)("code",{parentName:"pre",className:"language-bash"},"# List all active nodes\nros2 node list\n\n# See topics being published\nros2 topic list\n\n# Echo messages on a topic\nros2 topic echo /cmd_vel\n\n# Show node information\nros2 node info /my_node\n\n# Record data to a bag file\nros2 bag record -a\n\n# Play back recorded data\nros2 bag play my_bag\n")),(0,o.yg)("h3",{id:"visualization-rviz2"},"Visualization: RViz2"),(0,o.yg)("p",null,"RViz2 is the primary 3D visualization tool for ROS 2:"),(0,o.yg)("ul",null,(0,o.yg)("li",{parentName:"ul"},"Visualize robot models (URDF)"),(0,o.yg)("li",{parentName:"ul"},"Display sensor data (camera, LiDAR, depth)"),(0,o.yg)("li",{parentName:"ul"},"Show planned paths and trajectories"),(0,o.yg)("li",{parentName:"ul"},"Monitor transforms between coordinate frames")),(0,o.yg)("h3",{id:"introspection-rqt"},"Introspection: rqt"),(0,o.yg)("p",null,"rqt provides GUI tools for:"),(0,o.yg)("ul",null,(0,o.yg)("li",{parentName:"ul"},(0,o.yg)("strong",{parentName:"li"},"rqt_graph"),": Visualize node/topic connections"),(0,o.yg)("li",{parentName:"ul"},(0,o.yg)("strong",{parentName:"li"},"rqt_console"),": Monitor log messages"),(0,o.yg)("li",{parentName:"ul"},(0,o.yg)("strong",{parentName:"li"},"rqt_plot"),": Plot data from topics in real-time"),(0,o.yg)("li",{parentName:"ul"},(0,o.yg)("strong",{parentName:"li"},"rqt_reconfigure"),": Dynamically adjust parameters")),(0,o.yg)("h2",{id:"quality-of-service-qos"},"Quality of Service (QoS)"),(0,o.yg)("p",null,"ROS 2 uses DDS (Data Distribution Service) which allows fine control over message delivery:"),(0,o.yg)("pre",null,(0,o.yg)("code",{parentName:"pre",className:"language-python"},"from rclpy.qos import QoSProfile, ReliabilityPolicy, HistoryPolicy\n\n# For sensor data (best effort, drop old messages)\nsensor_qos = QoSProfile(\n    reliability=ReliabilityPolicy.BEST_EFFORT,\n    history=HistoryPolicy.KEEP_LAST,\n    depth=10\n)\n\n# For critical commands (reliable, don't drop)\ncommand_qos = QoSProfile(\n    reliability=ReliabilityPolicy.RELIABLE,\n    history=HistoryPolicy.KEEP_LAST,\n    depth=10\n)\n\nself.publisher = self.create_publisher(Twist, 'cmd_vel', sensor_qos)\n")),(0,o.yg)("h2",{id:"package-structure"},"Package Structure"),(0,o.yg)("p",null,"A typical ROS 2 Python package:"),(0,o.yg)("pre",null,(0,o.yg)("code",{parentName:"pre"},"my_robot_package/\n\u251c\u2500\u2500 package.xml          # Package metadata\n\u251c\u2500\u2500 setup.py            # Python package setup\n\u251c\u2500\u2500 setup.cfg           # Configuration\n\u251c\u2500\u2500 resource/           # Package marker\n\u251c\u2500\u2500 my_robot_package/\n\u2502   \u251c\u2500\u2500 __init__.py\n\u2502   \u251c\u2500\u2500 my_node.py     # Node implementation\n\u2502   \u2514\u2500\u2500 utils.py       # Helper functions\n\u2514\u2500\u2500 test/              # Unit tests\n")),(0,o.yg)("h3",{id:"creating-a-package"},"Creating a Package"),(0,o.yg)("pre",null,(0,o.yg)("code",{parentName:"pre",className:"language-bash"},"# Create a workspace\nmkdir -p ~/ros2_ws/src\ncd ~/ros2_ws/src\n\n# Create a Python package\nros2 pkg create --build-type ament_python my_robot_package\n\n# Build the workspace\ncd ~/ros2_ws\ncolcon build\n\n# Source the workspace\nsource install/setup.bash\n\n# Run your node\nros2 run my_robot_package my_node\n")),(0,o.yg)("h2",{id:"launch-files"},"Launch Files"),(0,o.yg)("p",null,"Launch files start multiple nodes with configuration:"),(0,o.yg)("pre",null,(0,o.yg)("code",{parentName:"pre",className:"language-python"},"from launch import LaunchDescription\nfrom launch_ros.actions import Node\n\ndef generate_launch_description():\n    return LaunchDescription([\n        Node(\n            package='my_robot_package',\n            executable='camera_node',\n            name='camera',\n            parameters=[{'frame_rate': 30}]\n        ),\n        Node(\n            package='my_robot_package',\n            executable='perception_node',\n            name='perception',\n            remappings=[('/input_image', '/camera/image_raw')]\n        ),\n    ])\n")),(0,o.yg)("pre",null,(0,o.yg)("code",{parentName:"pre",className:"language-bash"},"ros2 launch my_robot_package robot_launch.py\n")),(0,o.yg)("h2",{id:"best-practices"},"Best Practices"),(0,o.yg)("blockquote",null,(0,o.yg)("p",{parentName:"blockquote"},"[!TIP]","\n",(0,o.yg)("strong",{parentName:"p"},"Keep Nodes Small and Focused"),": Each node should do one thing well. This makes debugging easier and promotes code reuse.")),(0,o.yg)("blockquote",null,(0,o.yg)("p",{parentName:"blockquote"},"[!WARNING]","\n",(0,o.yg)("strong",{parentName:"p"},"Avoid Blocking Operations"),": ROS 2 uses callbacks. Never block in a callback as it will prevent other callbacks from executing.")),(0,o.yg)("blockquote",null,(0,o.yg)("p",{parentName:"blockquote"},"[!IMPORTANT]","\n",(0,o.yg)("strong",{parentName:"p"},"Use Namespaces"),": When running multiple robots, use namespaces to avoid topic/service collisions:"),(0,o.yg)("pre",{parentName:"blockquote"},(0,o.yg)("code",{parentName:"pre",className:"language-bash"},"ros2 run my_package my_node --ros-args -r __ns:=/robot1\n"))),(0,o.yg)("h2",{id:"next-steps"},"Next Steps"),(0,o.yg)("p",null,"Now that you understand ROS 2 fundamentals, dive deeper into:"),(0,o.yg)("ol",null,(0,o.yg)("li",{parentName:"ol"},(0,o.yg)("strong",{parentName:"li"},(0,o.yg)("a",{parentName:"strong",href:"/piaic-physical-ai-textbook/docs/physical-ai/module1-ros2/nodes-topics"},"Nodes and Topics"))," - Detailed communication patterns"),(0,o.yg)("li",{parentName:"ol"},(0,o.yg)("strong",{parentName:"li"},(0,o.yg)("a",{parentName:"strong",href:"/piaic-physical-ai-textbook/docs/physical-ai/module1-ros2/urdf"},"URDF Robot Description"))," - Defining your humanoid robot structure")),(0,o.yg)("h2",{id:"resources"},"Resources"),(0,o.yg)("ul",null,(0,o.yg)("li",{parentName:"ul"},(0,o.yg)("strong",{parentName:"li"},"Official Documentation"),": ",(0,o.yg)("a",{parentName:"li",href:"https://docs.ros.org/en/humble/"},"docs.ros.org")),(0,o.yg)("li",{parentName:"ul"},(0,o.yg)("strong",{parentName:"li"},"ROS 2 Tutorials"),": ",(0,o.yg)("a",{parentName:"li",href:"https://docs.ros.org/en/humble/Tutorials.html"},"ROS 2 Humble Tutorials")),(0,o.yg)("li",{parentName:"ul"},(0,o.yg)("strong",{parentName:"li"},"Community"),": ",(0,o.yg)("a",{parentName:"li",href:"https://discourse.ros.org/"},"ROS Discourse"))),(0,o.yg)("hr",null),(0,o.yg)("p",null,(0,o.yg)("strong",{parentName:"p"},"Next Module"),": ",(0,o.yg)("a",{parentName:"p",href:"/piaic-physical-ai-textbook/docs/physical-ai/module2-gazebo/overview"},"Module 2: The Digital Twin (Gazebo)")))}g.isMDXComponent=!0}}]);